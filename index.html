<script>
async function load() {
  const res = await fetch('./data_fast.json');
  const data = await res.json();

  // ✅ 直接顯示後端給的時間（最穩）
  const timeEl = document.getElementById("time");
  if (data.updated) {
    timeEl.innerText = "最後更新：" + data.updated;
  } else {
    timeEl.innerText = "最後更新：未知";
  }

  const list = document.getElementById("list");
  list.innerHTML = "";

  if (!data.items || data.items.length === 0) {
    list.innerHTML = "<div>目前沒有異常幣種</div>";
    return;
  }

  data.items.forEach(it => {
    const div = document.createElement("div");
    div.className = "row";
    div.innerHTML = `
      <div>${it.symbol}</div>
      <div class="${it.direction}">${it.direction}</div>
      <div>${(it.change * 100).toFixed(2)}%</div>
      <div>$${it.price}</div>
      <div class="score">${it.score}</div>
    `;
    list.appendChild(div);
  });
}

load();
</script>
